# 使用说明

## 概述

本文档主要说明如何从共享平台将可开放的目录和资源同步到开放平台中，分为数据目录、库表资源、文件资源、接口资源等，以及需要从开放平台同步给共享平台的资源申请信息等。

## 同步原理

根据共享平台提供的《广西壮族自治区政务数据共享交换平台开发平台对接接口规范》，共享平台通过接口接收开放平台的申请信息，通过下行库表向开放平台推送数据目录、库表资源、文件资源、接口资源。

将实现共享平台和开放平台对接的系统称为 **共享开放数据对接系统**，简称对接系统。

由对接系统与共享平台对接，在同步开放目录和资源时，检测下行表中的增量数据，调用开放平台的接口将目录和资源推送给开放平台。在向共享平台同步资源申请信息时，订阅开放平台的消息队列，当消费到资源申请信息时，调用共享平台的接口将申请信息推送给共享平台。

## 涉及开放平台接口

以下接口全部为REST接口。

### 保存目录和信息项

#### 接口功能

>支持新增和更新。

#### 接口地址

> 接口地址

#### 返回格式

> JSON

#### 请求方式

> GET

#### 请求参数

| 参数 | 必选 | 类型   | 默认值 | 说明                                    |
|------|------|--------|--------|-----------------------------------------|
| name | ture | string | foo    | 请求的项目名                            |
| type | true | int    | bar    | 请求项目的类型。1：类型一；2：类型二 。 |

#### 返回字段

| 返回字段 | 字段类型 | 说明                             |
|----------|----------|----------------------------------|
| result   | int      | 返回结果状态。0：正常；1：错误。 |
| reason   | string   | 错误说明                         |
| data     | string   | 数据                             |

### 删除目录和信息项

### 保存数据源

### 保存库表资源

### 删除库表资源

### 保存文件资源

### 删除文件资源

### 保存接口资源

### 删除文件资源

### 更新资源申请的审核结果

### 开放平台推送的申请信息

Topic名称：XXX

数据结构示例：

```json
{

}
```

## 存在问题

### 共享平台缺少申请审核结果的下行表

